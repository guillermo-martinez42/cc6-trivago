**Ingenier�a en Sistemas, Inform�tica y Ciencias de la Computaci�n**
**Ciencias de la Computaci�n VI � Bases de Datos**
**2/9/2025**

**PROYECTO 1**

El proyecto consiste en la creaci�n de un sistema distribuido de base de datos que permita la
integraci�n de tres tipos de sitios: Sistemas de Reserva, Administraci�n de Aerol�neas y Emisores de Tarjetas de Cr�dito con el fin de administrar la venta boletos a�reos. A cada grupo se le asignar� uno de los tres tipos de sitio, y su tarea consiste en desarrollar el sistema de acuerdo con la descripci�n que se dar� a continuaci�n el cual deber� integrarlo al resto de sitios. Dado de que se trata de una aplicaci�n acad�mica, vamos a realizar varias suposiciones con el objetivo de simplificar el proyecto.

Sistema de Reserva: Central Reservation Systems (CRS) Este sistema ser� la herramienta para la
venta de los boletos. Dado el lugar de salida, el lugar de llegada y la fecha de partida, deber� verificar sobre todas las aerol�neas los vuelos disponibles. Como resultado de esta consulta deber� generar una vista de estos vuelos para que el usuario escoja el horario y la aerol�nea con la que desea viajar. Luego de que el usuario escogi� el vuelo deber� mostrar los asientos disponibles para dicho vuelo y despu�s que el usuario elija su asiento deber� realizarse el cobro mediante una tarjeta de cr�dito y por �ltimo emitir el boleto. Es necesario llevar un registro de los usuarios, los datos m�nimos que se deben de almacenar son: email, contrase�a, nombre, n�mero documento de viaje.

Aerol�nea: Se utiliza para definir las rutas las cuales se identifican por el c�digo de la aerol�neay el
n�mero de vuelo,adem�s poseen la informaci�n del aeropuerto origen, aeropuerto destino, hora de salida, distancia y tiempo de vuelo. Un viaje se identifica por la ruta y la fecha, es labor de la aerol�nea asignarle el avi�n y la tripulaci�n y precio. Se debe almacenar los datos de sus empleados (tripulaci�n), debiendo almacenar nombre, puesto (piloto, copiloto, azafata, etc.), tiempo de pertenecer a la empresa, horas de vuelo, contacto en caso de emergencia, nacionalidad, idiomas que domina (normalmente es m�s de uno). Para cada aeronave, es necesario contar con los datos b�sicos, por ejemplo: matr�cula, marca, modelo, capacidad tanto de peso, como de pasajeros. Tambi�n se debe llevar control de la distribuci�n de los asientos los cuales se identifican un numero de fila (1,2,3 ... ) y la posici�n (A, B, C... ), para esto deber� registrar cuantas filas posee el avi�n y proveer una imagen donde se muestre dicha informaci�n (4 asientos por fila y 20 filas por avi�n).

Tarjeta de Cr�dito: Est� aplicaci�n servir� para la administraci�n de las tarjetas de cr�dito. Contar�
con las opciones para registro de las tarjetas emitidas: N�mero, nombre del titular, fecha de vencimiento, n�mero de seguridad, monto autorizado y monto disponible. Adem�s, debe registrar
todas las transacciones autorizadas para una tarjeta de cr�dito (consumos y pagos). Cuando reciba una solicitud de autorizaci�n verificar� que la tarjeta sea v�lida, que los datos sean correctos, que no
est� vencida y que tenga disponibilidad, entonces enviar� el n�mero de autorizaci�n o DENEGADO.

**Consultas remotas:** Las aerol�neas deber� proveer la informaci�n al Sistema de Reserva de los
vuelos disponibles y los emisores de tarjeta deber�n proveer la autorizaci�n de compras. Las
consultas se har�n utilizado un WebService (API-REST) implementado mediante llamadas a scripts
devolver�n los resultados usando el est�ndar XML y JSON.

**Registro de Aerol�neas y Emisor de Tarjeta de Cr�dito:** Es necesario en cada sistema de
reservaci�n implementar un mantenimiento para el registro de las aerol�neas y los emisores de tarjeta
de cr�dito de modo que conozca el c�digo, nombre, host y el nombre de los scripts que implementan
las consultas y procesos.

Aerolinea:
BD Local
Consulta de vuelos y reserva de boleto

Tarjeta de Cr�dito:
BD Local
Autorizaci�n de compras

Sistema de Reservas:
BD Local

La consulta de vuelos disponibles debe realizarse sobre todas las aerol�neas y la aprobaci�n del pago con el emisor de la tarjeta de cr�dito

A continuaci�n, aparece el formato de las llamadas a scripts y el formato de los resultados para lo cual deber� cumplir lo siguiente:

- Aeropuerto es un c�digo de 3 caracteres y aerol�nea un c�digo de 2 caracteres (IATA)
- N�meros de vuelo es un entero de 3 posiciones.
- Para las fechas usar el formato yyyymmdd y para las horas hhmm (ISO 8601)
- En la reservaci�n aparece el nombre del pasajero que reserva el boleto.
- El identificador de los emisores de tarjeta de cr�dito 15 caracteres
- Los n�meros de tarjeta 16 d�gitos (sin guiones)
- Para la fecha de vencimiento usar el formato: yyyymm
- El c�digo de seguridad 3 d�gitos
- Los asientos se identifican desde 1A a 20D.

Para obtener los vuelos disponibles dado origen, destino y fecha del vuelo:
http://aerolinea/script_lista_vuelos?origen=GUA&destino=FLW&fecha=20210824&formato=JSON

XML
<lista_vuelos>
    <aerolinea>GU</aerolinea>
    <fecha>20210824</fecha>
    <origen>GUA</origen>
    <destino>FLW</destino>
    <vuelo>
    <numero>123</numero>
    <hora>1400</hora>
    <precio>600</precio>
    </vuelo>
    <vuelo>
    <numero>124</numero>
    <hora>1800</hora>
    <precio>600</precio>
    </vuelo>
    </lista_vuelos>

JSON
{ "lista_vuelos" :
    { "aerolinea" : "GQ",
    "fecha" : "20210824",
    "origen" : "GW",
    "destino" : "FLM",
    "vuelos" :
    { { "numero" : "123",
    "horaz" : "1400",
    "precio" : "600",
    }
    { "numero" : "124",
    "horaz" : "1800",
    "precio" : "650",
    }
}
}

El listado de asientos disponibles dado el vuelo:
http://aerolinea.script_lista_asientos?aerolinea=GUA&vuelo=123&fecha=20210824&formato=JSON

XML
<lista_asientos>
    <aerolinea>GIF/aerolinea>
    <numero>123</numero>
    <fecha>20210824</fecha>
    <origin>SUN</origin>
    <design>FIM</design>
    <avion>Airbus A320<avion>
    <asiento>
    <file>1</file>
    <position>A</position>
    </asiento>
    <asiento>
    <file>1</file>
    <position>B</position>
    </asiento>
    <asiento>
    <file>3</file>
    <position>C</position>
    </asiento>
</lista_asientos>

JSON
{ "lista_asientos": {
    "aerolinea": "GU",
    "numero": "123",
    "fecha": "20210624",
    "origin": "GU",
    "design": "FIM",
    "avion": "Airbus A320",
    "asientos": {
    ("file": "1", "position": "A",
    ("file": "1", "position": "B",
    ("file": "3", "position": "C")
    }
    }
}

Para obtener el n�mero de boleto asignado:
http://aerolinea.script_reserva?aerolinea=GUA&vuelo=123&fecha=20210824&asiento=1&A&nombre=JuanPerez&formato=JSON

XML
<boleto>
    <aerolinea>GIF/aerolinea>
    <vuelo>123</vuelo>
    <fecha>20210824</fecha>
    <horra>1400</horra>
    <numero>123456789</numero>
</boleto>

JSON
{ "boleto": {
    "aerolinea": "GU",
    "vuelo": "123",
    "fecha": "20210824",
    "horra": "1400",
    "numero": "123456789"
    }
}

Para solicitar la autorizaci�n del pago:
http://emisor/autorizacion/?tarjeta=1234987612349876&nombre=JUANPEREZ&fecha\_venc=2022048
num_seguridad=123&monto=600&tienda=MYBOOKING&formato=JSON

XML
<autorizacion>
    <emisor>YISR</emisor>
    <tarjeta>1234987612349876</tarjeta>
    <status>APROBADO</status>
    <numero>654321</numero>
</autorizacion>

JSON
{ "autorizacion": {
    "emisor": "YISR",
    "tarjeta": "1234987612349876",
    "status": "APROBADO",
    "numero": "654321"
    }
}

El status ser� APROBADO � DENEGADO, si es denegado el n�mero es 0.


